<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>YesShare! ‚Äî b√∂ng√©sz≈ë</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <!-- TOPBAR -->
    <header class="topbar">
      <div class="brand">YesShare! <span class="tiny">beta</span></div>

      <!-- SEARCH + CREATE -->
      <div class="addressbar">
        <input id="searchInput" placeholder="√çrj URL-t (pl. hello.yes) vagy keress..." />
        <button id="goBtn">Mehet</button>

        <!-- Create page button (circular +) -->
        <button id="createPageBtn" class="createBtn" title="Weboldal l√©trehoz√°sa">+</button>
      </div>

      <!-- AUTH AREA (theme toggle, login button OR avatar when logged in) -->
      <div class="auth" id="authArea">
        <button id="themeToggle" class="themeToggle" aria-label="T√©ma v√°lt√°s" title="S√∂t√©t / Vil√°gos">üåô</button>

        <!-- When not signed in this is visible; when signed in it will be hidden by app.js -->
        <button id="openLogin" class="authBtn">Bejelentkez√©s / Regisztr√°ci√≥</button>

        <!-- Profile avatar wrapper (hidden when not logged in) -->
        <div id="profileWrapper" class="profileWrapper hidden">
          <button id="profileAvatar" class="profileAvatar default" aria-label="Profil"></button>

          <!-- Small popover shown when clicking the avatar -->
          <div id="profilePopover" class="profilePopover hidden" aria-hidden="true">
            <button id="profilePopoverClose" class="popoverClose" aria-label="Bez√°r">‚úï</button>

            <div class="popoverContent">
              <div class="popoverTop">
                <div id="popoverAvatar" class="popoverAvatar"></div>
                <div class="popoverUserMeta">
                  <div id="popoverUsername" class="popoverUsername">‚Äî</div>
                  <div id="popoverEmail" class="popoverEmail">‚Äî</div>
                </div>
              </div>

              <div class="popoverStats">
                Oldalak sz√°ma: <strong id="popoverCount">0</strong>
              </div>

              <div class="popoverUpload">
                <label for="avatarInput" class="uploadLabel">Profilk√©p felt√∂lt√©se</label>
                <input id="avatarInput" type="file" accept="image/*" />
                <div class="uploadHint">JPG/PNG. A k√©p Base64-ben t√°rol√≥dik (ingyenes demo).</div>
              </div>

              <div class="popoverActions">
                <button id="popoverLogout">Kijelentkez√©s</button>
              </div>
            </div>
          </div>
        </div> <!-- /profileWrapper -->
      </div> <!-- /authArea -->
    </header>

    <!-- MAIN AREA: single column: page view, comments, search results -->
    <main class="main">
      <section class="left">
        <div id="browserHeader" class="browserHeader">
          Megnyitott oldal: <span id="openUrl">‚Äî</span>
        </div>

        <!-- Where pages are shown. For HTML pages the app will inject an iframe here. -->
        <div id="pageView" class="pageView">
          Semmi nincs megnyitva. Nyiss meg egy .yes URL-t vagy hozz l√©tre egyet.
        </div>

        <!-- Comments container: app.js will inject comment form & list here when a page is open -->
        <div id="commentsContainer"></div>

        <!-- Search results will appear here -->
        <div class="searchResults" id="searchResults"></div>
      </section>
    </main>

    <!-- AUTH MODAL (hidden by default; shown when clicking openLogin) -->
    <div id="authModal" class="modal hidden" aria-hidden="true">
      <div class="modalInner">
        <h3 id="authTitle">Bejelentkez√©s</h3>

        <div id="authForms">
          <!-- LOGIN form -->
          <div id="formLogin">
            <label>Email</label>
            <input id="loginEmail" type="email" placeholder="email" />
            <label>Jelsz√≥</label>
            <input id="loginPassword" type="password" placeholder="jelsz√≥" />
            <div style="margin-top:8px;">
              <button id="loginSubmit">Bejelentkez√©s</button>
              <button id="toRegister">Regisztr√°ci√≥</button>
            </div>
          </div>

          <!-- REGISTER form (hidden initially) -->
          <div id="formRegister" style="display:none;">
            <label>Felhaszn√°l√≥n√©v</label>
            <input id="regUsername" type="text" placeholder="Felhaszn√°l√≥n√©v (nyilv√°nos)" />
            <label>Email</label>
            <input id="regEmail" type="email" placeholder="email" />
            <label>Jelsz√≥ (6+)</label>
            <input id="regPassword" type="password" placeholder="jelsz√≥" />
            <div style="margin-top:8px;">
              <button id="regSubmit">Regisztr√°ci√≥</button>
              <button id="toLogin">Vissza</button>
            </div>
          </div>
        </div>

        <div style="margin-top:8px;"><button id="closeAuth">Bez√°r</button></div>
      </div>
    </div>

    <!-- CREATE PAGE MODAL (hidden by default; shown when clicking +) -->
    <div id="modal" class="modal hidden" aria-hidden="true">
      <div class="modalInner">
        <h3>Weboldal l√©trehoz√°sa</h3>

        <div id="step1">
          <label>V√°lassz t√≠pust:</label>
          <select id="pageType">
            <option value="rich">1 ‚Äî Word-szer≈± (rich text)</option>
            <option value="html">2 ‚Äî HTML (.html f√°jlk√©nt szerkeszthet≈ë)</option>
          </select>

          <label>C√≠m</label>
          <input id="pageTitle" placeholder="Oldal c√≠me" />

          <!-- Rich editor (contenteditable) -->
          <div id="richEditor" class="editor">
            <div contenteditable="true" id="richContent" class="richContent" placeholder="√çrd ide mint egy Word-be..."></div>
          </div>

          <!-- HTML editor (textarea) -->
          <div id="htmlEditor" style="display:none;">
            <textarea id="htmlContent" rows="15" placeholder="√çrd ide a teljes HTML dokumentumot: &lt;!doctype html&gt;&lt;html&gt;...&lt;/html&gt;"></textarea>
          </div>

          <div style="margin-top:12px;">
            <button id="toStep2">K√∂vetkez≈ë ‚Äî V√°lassz URL-t</button>
            <button id="cancelBtn">M√©gse</button>
          </div>
          <div id="step1Msg" class="modalMsg"></div>
        </div>

        <div id="step2" style="display:none;">
          <h4>V√°laszd ki a .yes el≈ëtti r√©szt (slug)</h4>
          <label>URL (csak a slug, pl. hello ‚Äî v√©ge .yes lesz)</label>
          <input id="pageSlug" placeholder="p√©ld√°ul hello" />
          <div style="margin-top:8px;">
            <button id="checkSlug">Ellen≈ëriz</button>
            <button id="publishBtn" disabled>K√∂zz√©t√©tel</button>
            <button id="backToStep1">Vissza</button>
          </div>
          <div id="step2Msg" class="modalMsg"></div>
        </div>
      </div>
    </div>

    <footer class="footer">YesShare! ‚Äî .yes domain demo</footer>
  </div>

  <!-- The main JavaScript module (you will replace/apply app.js next) -->
  <script type="module" src="app.js"></script>
</body>
</html>